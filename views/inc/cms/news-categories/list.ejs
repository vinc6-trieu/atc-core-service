<div class="breadcrumbs">
  <div class="page-header float-left pl-5 pr-5">
    <div class="page-title">
      <h1 class="d-inline-block float-left">Danh sách danh mục bài viết</h1>
    </div>
  </div>
  <div class="d-flex align-items-center float-right pr-5" style="height: 50px;">
    <div data-action="/cms-api/v1/news-categories" data-type="news-categories" class="button-create-empty button btn-success p-2 pl-3 pr-3 br-7">
      Tạo mới
    </div>
  </div>
</div>

<div class="col-lg bg-light pl-5 pr-5" style="padding-bottom: 100px">
  <%- include('../../../components/filters/news_category')%>
  <br />
  <table class="table" style="margin: auto">
    <thead>
      <tr class="bg-light">
        <th scope="col">#ID</th>
        <th scope="col">Tiêu đề</th>
        <th scope="col">Trạng thái</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% categories.forEach(category=> {%>
      <tr>
        <td rowspan="2" style="width: 150px">
          <div class="d-flex flex-column">
            <div class="d-flex justify-content-center">
              <%=FORMAT_ID_FN(`${category._id}`)%> <br />
            </div>
            <br />
            <div data-url="/cms-api/v1/news-categories/<%=category._id%>" data-id="<%=category._id%>" class="button btn-danger p-2 pl-3 pr-3 br-7 button-remove">
              Xoá
            </div>
          </div>
        </td>
        <td scope="row">
          <div class="d-flex flex-column justify-content-center	" style="max-width: 70%">
            <div class="mb-1"><strong style="width: 100px" class="d-inline-block">Tiếng Việt:
              </strong></div>
            <%=category.viName || '(chưa có bản dịch)' %>
          </div>
        </td>
        <td scope="row" style="width: 150px; max-width: 20%">
          <% if(category?.vi) { %>
          <div data-url="/cms-api/v1/news-categories/<%=category.vi?._id%>/status/<%=  category?.vi?.status != 0 ? 0 : 2 %>" data-id="<%=category?.vi?._id%>" class="button btn-warning d-flex justify-content-center p-2 pl-3 pr-3 mb-1 br-7 button-update">
            <%= category?.vi?.status !=0 ? 'Đã duyệt' : 'Đã ẩn' %>
          </div>

          <% } %>
        </td>
        <td style="width: 70px">
          <div class="d-flex flex-column justify-content-center">
            <a href="/cms/news-categories/<%=category._id%>?lang=vi" data-id="<%=category._id%>" class="edit-button button btn-info p-2 pl-3 pr-3 br-7 mb-2 text-light">Sửa
            </a>
            <div data-url="/cms-api/v1/news-categories/<%=category._id%>/vi" data-id="<%=category._id%>" class="button <%=category.vi?'btn-danger':'btn-secondary'%> p-2 pl-3 pr-3 br-7 button-remove">
              Xoá
            </div>
          </div>
        </td>
      </tr>
      <tr>
        <td scope="row">
          <div class="d-flex flex-column justify-content-center" style="max-width: 70%">
            <div class="mb-1"><strong style="width: 100px" class="d-inline-block">English: </strong>
            </div>
            <%=category.enName || '(chưa có bản dịch)' %>
          </div>
        </td>
        <td scope="row" style="width: 150px; max-width: 20%">
          <% if(category?.en) { %>
          <div data-url="/cms-api/v1/news-categories/<%=category.en?._id%>/status/<%=  category?.en?.status != 0 ? 0 : 2 %>" data-id="<%=category?.en?._id%>" class="button btn-warning d-flex justify-content-center p-2 pl-3 pr-3 mb-1 br-7 button-update">
            <%= category?.en?.status !=0 ? 'Đã duyệt' : 'Đã ẩn' %>
          </div>
          <% } %>
        </td>
        <td style="width: 70px">
          <div class="d-flex flex-column justify-content-center">
            <a href="/cms/news-categories/<%=category._id%>?lang=en" data-id="<%=category._id%>" class="button btn-info p-2 pl-3 pr-3 br-7 mb-2">Sửa</a>
            <div data-url="/cms-api/v1/news-categories/<%=category._id%>/en" data-id="<%=category._id%>" class="button <%=category.en?'btn-danger':'btn-secondary'%> p-2 pl-3 pr-3 br-7 button-remove">
              Xoá
            </div>
          </div>
        </td>
      </tr>
      <% }) %>
    </tbody>
  </table>
  <br />
  <br />
  <div class="container d-flex justify-content-center">
    <div class="pagination" style="margin: auto; align-self: center; justify-self: center">
      <% pagination.forEach((link, index)=> {%>
      <a class="<%=page == index + 1 ? 'active': '' %>" href="<%=link%>">
        <%=index+1%>
      </a>
      <%}) %>
    </div>
  </div>
</div>